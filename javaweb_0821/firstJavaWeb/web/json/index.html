<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
</head>
<script>
    window.onload = function () {
        var data = document.getElementsByTagName("a");
        for (var i = 0; i < data.length; i++) {
            data[i].onclick = function () {
                var request = new XMLHttpRequest();
                var url = this.href;
                var method = "GET";
                request.open(method, url);
                request.send(null);

                request.onreadystatechange = function () {
                    if (request.readyState == 4) {
                        if (request.status == 200 || request.status == 304) {
                           var node =request.responseText;
                            var result =eval("("+node+")");
                           var name=result.person.name;
                           var webSite=result.person.age;
                           var email=result.person.add.city;
                           // alert(name);
                           // alert(webSite);
                           // alert(email);
                            var aNode=document.createElement("a");
                            aNode.href=email;
                            aNode.appendChild(document.createTextNode(name));
                            var hNode=document.createElement("h2");
                            hNode.appendChild(aNode);
                            var aNode2=document.createElement("a");
                            aNode2.appendChild(document.createTextNode(webSite));
                            aNode2.href=webSite;
                            var tetails=document.getElementById("details");
                            tetails.innerHTML="";
                            tetails.appendChild(hNode);
                            tetails.appendChild(aNode2);

                        }
                    }
                }
                //记得关闭标签的默认行为
                return false;
            }
        }
    }
</script>
<body>
<ul>
    <li><a href="files//json.html">A</a></li>
    <li><a href="files//B.xml">B</a></li>
    <li><a href="files//C.xml">C</a></li>
</ul>
<div id="details"></div>
</body>
</html>